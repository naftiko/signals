---
layout: page
title: Maturity
---
<script>
    function show(id){

        if(document.getElementById(id).style.display == ''){
            document.getElementById(id).style.display = 'none';
        }
        else{
            document.getElementById(id).style.display = '';
        }

    }
</script>

<div id="add-banner" class="alert alert-danger" role="alert" style="text-align: center; display: none;">
    You have added a new service.
</div>
<div id="error-banner" class="alert alert-danger" role="alert" style="text-align: center; display: none;">
ERROR!!
</div>
<div id="process-banner" class="alert alert-danger" role="alert" style="text-align: center; display: none;">
PROCESS!
</div>    

<style>

  .building-block{
      border: 2px dashed #000;
      border-radius: 5px;
      margin: 5px; 
      padding: 5px;
      font-weight: bold;
  }

  .building-group {
      background-color: #FFF;
      border: 3px solid #000;
      border-radius: 10px;
      margin: 0px; 
      padding: 10px;
      height: 100%;
      width: 100%;
      }    
      
  .selection-group {
      background-color: #FFF;
      border: 3px solid #000;
      border-radius: 10px;
      margin: 5px; 
      padding: 5px;
      width: 100%;
      overflow: auto;
      height: 115px;
      }               
</style>

<h2>Maturity</h2>
<p>Develop awareness of the maturity of services we depend upon:</p>
<div class="row" style="border: 2px solid #000; border-radius: 15px; padding: 5px; background-color: #001747;">
    <div class="col-12" style="">
        <div style="padding-left: 7px; color: #FFF;"><strong>Services (Scroll & Drag)</strong></div>
        <div  class="selection-group" id="services"></div>          
    </div>    

</div>

<div class="row" style="border-radius: 15px; padding: 15px; margin: 5px; border: 2px solid #000; display: none;" id="edit-config">

    <div class="col-3">  
        <p><strong>Domains</strong></p>
        <textarea style="border: 1px solid #000; width: 100%;height: 600px; overflow: auto;" id="areas">
        - name: Domain One
          slug: domain-1            
        - name: Domain Two
          slug: domain-2 
        - name: Domain Three
          slug: domain-3    
        - name: Domain Four
          slug: domain-4           
        - name: Domain Five
          slug: domain-5 
        - name: Domain Six
          slug: domain-6 
        - name: Domain Seven
          slug: domain-7            
        - name: Domain Eight
          slug: domain-8 
        - name: Domain Nine
          slug: domain-9   
        - name: Domain Ten
          slug: domain-10
        - name: Domain Eleven
          slug: domain-11
        - name: Domain Twelve
          slug: domain-12                                                       
        </textarea>

    </div>
    <div class="col-3">    
        <p><strong>Services</strong></p>
        {% assign services = site.data.services | jsonify %}
        <textarea style="border: 1px solid #000; width: 100%; height: 600px; overflow: auto;" id="apis-json">
          {{ services }}
        </textarea>
        <script>
          var json = document.getElementById("apis-json").value;
          document.getElementById("apis-json").value = jsyaml.dump(JSON.parse(json));
        </script>
    </div>
    
</div>

<br>
<h3>Wardley Map</h3>
<table style="width: 100%; height: 100%; margin-top: 25px;" id="capture">
    <tr>
    <td style="">
        <table style="width: 100%; height: 100%;">
            <tr>
                <td style="vertical-align: top; text-align: right;">
                    <span style="writing-mode: vertical-rl;text-orientation: sideways; text-align: left;">&#8592;Visible</span>
                </td>
            </tr>
            <tr>
                <td style="vertical-align: bottom; text-align: right;">       
                    <span style="writing-mode: vertical-rl;text-orientation: sideways; text-align: right; vertical-align: bottom">Invisible&#8594;</span><br>
                </td>
            </tr>
        </table>        
    </td>
   <td width="95%">

        <div class="row" style="padding: 5px;">
            <div class="col">  
                <div class="row" style="border-radius: 15px; padding: 10px;">

                    <div class="col-3">  
                        <div id="domain-1" class="building-group"></div>                        
                    </div>
                    <div class="col-3">
                        <div id="domain-2" class="building-group"></div>                                         
                    </div>
                    <div class="col-3"> 
                        <div id="domain-3" class="building-group"></div> 
                    </div> 
                    <div class="col-3"> 
                        <div id="domain-4" class="building-group"></div> 
                    </div>             

                </div>

                <div class="row" style="border-radius: 15px; padding: 10px;">

                    <div class="col-3">  
                        <div id="domain-5" class="building-group"></div>                    
                    </div>
                    <div class="col-3">
                        <div id="domain-6" class="building-group"></div>                                         
                    </div>
                    <div class="col-3"> 
                        <div id="domain-7" class="building-group"></div> 
                    </div> 
                    <div class="col-3"> 
                        <div id="domain-8" class="building-group"></div> 
                    </div>             

                </div>
                
                <div class="row" style="border-radius: 15px; padding: 10px;">

                    <div class="col-3">  
                        <div id="domain-9" class="building-group"></div>                        
                    </div>
                    <div class="col-3">
                        <div id="domain-10" class="building-group"></div>                                         
                    </div>
                    <div class="col-3"> 
                        <div id="domain-11" class="building-group"></div> 
                    </div> 
                    <div class="col-3"> 
                        <div id="domain-12" class="building-group"></div> 
                    </div>             

                </div>        

            </div>
        </div>
        <div class="row" style=border: 2px dashed #000; border-radius: 15px; padding: 5px;">
            <div class="col-3" style="text-align: center;">Genesis&#8594;</div>
            <div class="col-3" style="text-align: center;">Custom Built&#8594;</div>
            <div class="col-3" style="text-align: center;">Product&#8594;</div> 
            <div class="col-3" style="text-align: center;">Commodity&#8594;</div> 
        </div>

    </td>
    </tr>
</table>

<script>

    function removeService(slug){
      document.getElementById(slug).remove();
      document.getElementById(slug).remove();
    }

    function makeEntry(name,image,url){
      var slug = slugify(name);
      //console.log(slug);
      let html = '<div class="building-block tinted" id="' + slug + '">';
      //html += '<a href="' + url + '" target="_blank" style=" font-size: 14px;">';
      html += '<img src="/assets/img/icons/' + image + '" width="20" style="margin: 0px 5px 3px 0px;">';
      html += '<span style=" font-size: 14px;">' + name + '</span>';
      //html += '</a>';
      html += '<a href="#" onclick="removeService(' + "'" + slug + "'" + '); return false;" style="float: right;">&#x274C;</a>';
      html += '</div>';
      return html;
    }

    function populateBuilder(){

      var areas_raw = document.getElementById("areas").value;
      var areas = jsyaml.load(areas_raw);

      var apis_json_raw = document.getElementById("apis-json").value;
      var apis_json = jsyaml.load(apis_json_raw);
      //var apis_json = JSON.parse(apis_json_raw);

      apis_json.common = apis_json.common.sort(function(a, b) {
          var keyA = a.name,
              keyB = b.name;
          if (keyA < keyB) return -1;
          if (keyA > keyB) return 1;
          return 0;
      });  
        
      var select = document.getElementById('source-services');
      show_tags = "Services";
      var options = '';

      //var html = '<strong>&nbsp;&nbsp;Services (Scroll)</strong>';
      for (let i = 0; i < apis_json.common.length; i++) {
          for (let j = 0; j < apis_json.common[i].tags.length; j++) {
              if(apis_json.common[i].tags[j] == show_tags){

                var image = apis_json.common[i].image;
                var name = apis_json.common[i].name;
                var slug = slugify(apis_json.common[i].name);
                var url = 'https://naftiko.io'
                
                let option = '<div class="building-block tinted" id="' + slug + '">';
                option += '<img src="/assets/img/icons/drag.png" width="20" style="margin: 0px 5px 3px 0px;">';
                option += '<img src="/assets/img/icons/' + image + '" width="25" style="margin: 0px 5px 3px 0px;">';
                option += '<span style=" font-size: 14px;">' + name + '</span>';             
                option += '</div>';

                options += option;

              }
          }
      }   

      document.getElementById('services').innerHTML = options;

    new Sortable(document.getElementById('services'), {
        group: 'platform',
        animation: 150
    });       
          
      for (let h = 0; h < areas.length; h++) {

          show_tags = '';
          //console.log(show_tags);
          var html = '<strong>&nbsp;&nbsp;' + show_tags + '</strong>';
          for (let i = 0; i < apis_json.common.length; i++) {
              var match = 0;
              var match_default = 0;
              for (let j = 0; j < apis_json.common[i].tags.length; j++) {
                  if(apis_json.common[i].tags[j] == show_tags){
                      match = 1;
                  }
                  if(apis_json.common[i].tags[j] == 'Default'){
                      match_default = 1;
                  }                
              }
              if(match == 1 && match_default == 1){
                  html += makeEntry(apis_json.common[i].name,apis_json.common[i].image,apis_json.common[i].url);
              }
          } 
          document.getElementById(areas[h].slug).innerHTML = html;                   

          new Sortable(document.getElementById(areas[h].slug), {
              group: 'platform',
              animation: 150
          });        

      }

    }
  
  populateBuilder();

function buildEntry(service){
    var resources_raw = document.getElementById("resources").value;
    var resources = jsyaml.load(resources_raw);

    var html = '';
    for (let i = 0; i < resources.length; i++) {
      html += makeEntry(service + ' ' + resources[i],'drag.png','',);
    } 
    document.getElementById("source-resources").innerHTML = html;  
    new Sortable(document.getElementById('source-resources'), {
        group: 'platform',
        animation: 150
    });       
  }

  var html = makeEntry('Amazon S3','amazon-s3.png','');  
  document.getElementById('domain-12').innerHTML = html;    

  html = makeEntry('OpenAI','openai.png','');  
  document.getElementById('domain-1').innerHTML = html;     

  html = makeEntry('Anthropic','anthropic.png','');  
  document.getElementById('domain-5').innerHTML = html;    

  html = makeEntry('Stripe','stripe.png','');  
  document.getElementById('domain-11').innerHTML = html;      

  html = makeEntry('Jira','jira.png','');  
  document.getElementById('domain-7').innerHTML = html;      

  html = makeEntry('Google Calendar','google-calendar.png','');  
  document.getElementById('domain-4').innerHTML = html;     

  html = makeEntry('Gmail','gmail.png','');  
  document.getElementById('domain-8').innerHTML = html;      
  
  html = makeEntry('BigCommerce','bigcommerce.png','');  
  document.getElementById('domain-3').innerHTML = html;   
  
  html = makeEntry('Microservice (Internal)','microservices.png','');  
  document.getElementById('domain-9').innerHTML = html;       

  html = makeEntry('Partner API (Internal)','partner.png','');  
  document.getElementById('domain-2').innerHTML = html;     

  html = makeEntry('Jobs API (Internal)','job.png','');  
  document.getElementById('domain-6').innerHTML = html;       
  
  html = makeEntry('CRM API (Internal)','crm.png','');  
  document.getElementById('domain-10').innerHTML = html;       
</script>
